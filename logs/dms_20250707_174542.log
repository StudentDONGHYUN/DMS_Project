2025-07-07 17:46:00,022 - __main__                  - INFO     - 설정 완료: {'input_source': ['C:/Users/HKIT/Videos/VS1/SGA5100180/SGA5100180S0097/video/SGA5100180S0097.mp4', 'C:/Users/HKIT/Videos/VS1/SGA5100180/SGA5100180S0126/video/SGA5100180S0126.mp4', 'C:/Users/HKIT/Videos/VS1/SGA5100180/SGA5100180S0135/video/SGA5100180S0135.mp4', 'C:/Users/HKIT/Videos/VS1/SGA5100180/SGA5100180S0086/video/SGA5100180S0086.mp4', 'C:/Users/HKIT/Videos/VS1/SGA5100180/SGA5100180S0101/video/SGA5100180S0101.mp4', 'C:/Users/HKIT/Videos/VS1/SGA5100180/SGA5100180S0109/video/SGA5100180S0109.mp4', 'C:/Users/HKIT/Videos/VS1/SGA5100180/SGA5100180S0113/video/SGA5100180S0113.mp4', 'C:/Users/HKIT/Videos/VS1/SGA5100180/SGA5100180S0128/video/SGA5100180S0128.mp4', 'C:/Users/HKIT/Videos/VS1/SGA5100180/SGA5100180S0177/video/SGA5100180S0177.mp4', 'C:/Users/HKIT/Videos/VS1/SGA5100180/SGA5100180S0032/video/SGA5100180S0032.mp4', 'C:/Users/HKIT/Videos/VS1/SGA5100180/SGA5100180S0036/video/SGA5100180S0036.mp4', 'C:/Users/HKIT/Videos/VS1/SGA5100180/SGA5100180S0063/video/SGA5100180S0063.mp4', 'C:/Users/HKIT/Videos/VS1/SGA5100180/SGA5100180S0090/video/SGA5100180S0090.mp4', 'C:/Users/HKIT/Videos/VS1/SGA5100180/SGA5100180S0010/video/SGA5100180S0010.mp4', 'C:/Users/HKIT/Videos/VS1/SGA5100180/SGA5100180S0020/video/SGA5100180S0020.mp4', 'C:/Users/HKIT/Videos/VS1/SGA5100180/SGA5100180S0062/video/SGA5100180S0062.mp4', 'C:/Users/HKIT/Videos/VS1/SGA5100180/SGA5100180S0073/video/SGA5100180S0073.mp4', 'C:/Users/HKIT/Videos/VS1/SGA5100180/SGA5100180S0169/video/SGA5100180S0169.mp4', 'C:/Users/HKIT/Videos/VS1/SGA5100180/SGA5100180S0088/video/SGA5100180S0088.mp4', 'C:/Users/HKIT/Videos/VS1/SGA5100180/SGA5100180S0104/video/SGA5100180S0104.mp4', 'C:/Users/HKIT/Videos/VS1/SGA5100180/SGA5100180S0171/video/SGA5100180S0171.mp4', 'C:/Users/HKIT/Videos/VS1/SGA5100180/SGA5100180S0048/video/SGA5100180S0048.mp4', 'C:/Users/HKIT/Videos/VS1/SGA5100180/SGA5100180S0119/video/SGA5100180S0119.mp4', 'C:/Users/HKIT/Videos/VS1/SGA5100180/SGA5100180S0174/video/SGA5100180S0174.mp4', 'C:/Users/HKIT/Videos/VS1/SGA5100180/SGA5100180S0005/video/SGA5100180S0005.mp4', 'C:/Users/HKIT/Videos/VS1/SGA5100180/SGA5100180S0108/video/SGA5100180S0108.mp4', 'C:/Users/HKIT/Videos/VS1/SGA5100180/SGA5100180S0116/video/SGA5100180S0116.mp4', 'C:/Users/HKIT/Videos/VS1/SGA5100180/SGA5100180S0154/video/SGA5100180S0154.mp4', 'C:/Users/HKIT/Videos/VS1/SGA5100180/SGA5100180S0057/video/SGA5100180S0057.mp4', 'C:/Users/HKIT/Videos/VS1/SGA5100180/SGA5100180S0194/video/SGA5100180S0194.mp4', 'C:/Users/HKIT/Videos/VS1/SGA5100180/SGA5100180S0197/video/SGA5100180S0197.mp4', 'C:/Users/HKIT/Videos/VS1/SGA5100180/SGA5100180S0074/video/SGA5100180S0074.mp4', 'C:/Users/HKIT/Videos/VS1/SGA5100180/SGA5100180S0098/video/SGA5100180S0098.mp4', 'C:/Users/HKIT/Videos/VS1/SGA5100180/SGA5100180S0132/video/SGA5100180S0132.mp4', 'C:/Users/HKIT/Videos/VS1/SGA5100180/SGA5100180S0191/video/SGA5100180S0191.mp4', 'C:/Users/HKIT/Videos/VS1/SGA5100180/SGA5100180S0056/video/SGA5100180S0056.mp4'], 'user_id': 'default', 'camera_position': <CameraPosition.DASHBOARD_CENTER: '대시보드 중앙'>, 'enable_calibration': False, 'is_same_driver': True}
2025-07-07 17:46:00,038 - systems.performance       - INFO     - PerformanceOptimizer 초기화 완료
2025-07-07 17:46:00,039 - io_handler.video_input    - INFO     - 운전자 연속성 설정됨: 동일 운전자
2025-07-07 17:46:00,041 - systems.personalization   - INFO     - 사용자 프로필 로드됨: default
2025-07-07 17:46:00,041 - systems.dynamic           - INFO     - DynamicAnalysisEngine 상태 초기화됨.
2025-07-07 17:46:00,042 - systems.dynamic           - INFO     - DynamicAnalysisEngine 초기화 완료
2025-07-07 17:46:00,042 - systems.backup            - INFO     - SensorBackupManager 초기화 완료
2025-07-07 17:46:00,043 - analysis.gaze             - INFO     - EnhancedSphericalGazeClassifier 초기화: 11개 구역 정의됨
2025-07-07 17:46:00,043 - analysis.drowsiness       - INFO     - EnhancedDrowsinessDetector 초기화 완료
2025-07-07 17:46:00,045 - analysis.emotion          - INFO     - EmotionRecognitionSystem 초기화 완료
2025-07-07 17:46:00,046 - analysis.distraction      - INFO     - DistractionObjectDetector 초기화 완료
2025-07-07 17:46:00,051 - analysis.identity         - INFO     - 0명의 운전자 프로필 로드됨
2025-07-07 17:46:00,052 - analysis.identity         - INFO     - DriverIdentificationSystem 초기화 완료
2025-07-07 17:46:00,052 - analysis.prediction       - INFO     - PredictiveSafetySystem 초기화 완료
2025-07-07 17:46:00,053 - systems.performance       - INFO     - PerformanceOptimizer 초기화 완료
2025-07-07 17:46:00,143 - systems.mediapipe_manager - INFO     - ✅ FaceLandmarker 초기화 완료 (블렌드셰이프 활성화)
2025-07-07 17:46:00,466 - systems.mediapipe_manager - INFO     - ✅ PoseLandmarker 초기화 완료 (33 키포인트)
2025-07-07 17:46:00,581 - systems.mediapipe_manager - INFO     - ✅ HandLandmarker 초기화 완료
2025-07-07 17:46:00,648 - systems.mediapipe_manager - INFO     - ✅ ObjectDetector 초기화 완료 (주의산만 객체 감지)
2025-07-07 17:46:00,674 - io_handler.video_input    - INFO     - ✅ 입력 소스 초기화 및 스레드 시작
2025-07-07 17:46:00,675 - app                       - INFO     - 🚀 고도화된 DMS 시스템 v18 (연구 결과 통합) 초기화 완료
2025-07-07 17:46:00,675 - app                       - INFO     - 📊 새로운 기능: 향상된 EAR, 감정 인식, 예측적 안전, 운전자 식별
2025-07-07 17:46:00,675 - app                       - INFO     - 🎯 DMS v18 시스템 시작. 'q'를 눌러 종료, 스페이스바로 일시정지, 's'로 스크린샷 저장
2025-07-07 17:46:00,987 - analysis.identity         - INFO     - 새 운전자 등록됨: driver_1
2025-07-07 17:46:00,999 - systems.backup            - WARNING  - 백업 모드 활성화: hand_backup_active
2025-07-07 17:46:01,013 - app                       - ERROR    - 실행 중 오류 발생: name 'math' is not defined
Traceback (most recent call last):
  File "c:\Users\HKIT\Desktop\DMS_Project\app.py", line 117, in main_async_loop
    annotated_frame = await self.analysis_engine.process_and_annotate_frame(
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\HKIT\Desktop\DMS_Project\analysis\engine.py", line 122, in process_and_annotate_frame
    await asyncio.gather(face_task, pose_task)
  File "c:\Users\HKIT\Desktop\DMS_Project\analysis\engine.py", line 173, in _process_face_data_async
    self._analyze_enhanced_head_pose(face_result.facial_transformation_matrixes[0])
  File "c:\Users\HKIT\Desktop\DMS_Project\analysis\engine.py", line 265, in _analyze_enhanced_head_pose
    sy = math.sqrt(R[0, 0] ** 2 + R[1, 0] ** 2)
         ^^^^
NameError: name 'math' is not defined
2025-07-07 17:46:01,055 - app                       - INFO     - Enhanced DMS v18 시스템 정리 중...
2025-07-07 17:46:01,057 - systems.mediapipe_manager - INFO     - MediaPipe Task 리소스 정리 시작...
2025-07-07 17:46:01,176 - systems.mediapipe_manager - INFO     - MediaPipe Task 리소스 정리 완료.
2025-07-07 17:46:01,202 - io_handler.video_input    - INFO     - VideoInputManager 리소스 해제 완료.
2025-07-07 17:46:01,220 - app                       - INFO     - 최종 성능 요약 - 평균 FPS: 0.0, 성능 점수: 0.0%
2025-07-07 17:46:01,235 - app                       - INFO     - Enhanced DMS v18 시스템 정리 완료
